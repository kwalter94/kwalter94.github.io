<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Of Recursive Spells And Iterative Spirits" /><meta property="og:locale" content="en" /><meta name="description" content="Programs are like magic spells, they conjure the spirits that roam the digital world (the Matrix). We formally know these spirits by the name processes. I mostly think of my spells as a sequence of steps that a spirit needs to carry out but this is not 100% true. The spirits don’t exactly follow line by line what I ask of them. They merely take my instructions as guidelines to what tune they dance. Of course, this is mostly all down to the mediums who are responsible for translating my spells into a language the spirits understand. The mediums sometimes do optimise my instructions for some selfish reasons (saving time and space I am told) and sometimes there just isn’t a one to one translation of my instructions into the language spoken within the matrix." /><meta property="og:description" content="Programs are like magic spells, they conjure the spirits that roam the digital world (the Matrix). We formally know these spirits by the name processes. I mostly think of my spells as a sequence of steps that a spirit needs to carry out but this is not 100% true. The spirits don’t exactly follow line by line what I ask of them. They merely take my instructions as guidelines to what tune they dance. Of course, this is mostly all down to the mediums who are responsible for translating my spells into a language the spirits understand. The mediums sometimes do optimise my instructions for some selfish reasons (saving time and space I am told) and sometimes there just isn’t a one to one translation of my instructions into the language spoken within the matrix." /><link rel="canonical" href="/posts/Of-Recursive-Spells-And-Iterative-Spirits/" /><meta property="og:url" content="/posts/Of-Recursive-Spells-And-Iterative-Spirits/" /><meta property="og:site_name" content="ntumbuka[sic]" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-14T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Of Recursive Spells And Iterative Spirits" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-24T17:47:29+02:00","datePublished":"2022-05-14T00:00:00+02:00","description":"Programs are like magic spells, they conjure the spirits that roam the digital world (the Matrix). We formally know these spirits by the name processes. I mostly think of my spells as a sequence of steps that a spirit needs to carry out but this is not 100% true. The spirits don’t exactly follow line by line what I ask of them. They merely take my instructions as guidelines to what tune they dance. Of course, this is mostly all down to the mediums who are responsible for translating my spells into a language the spirits understand. The mediums sometimes do optimise my instructions for some selfish reasons (saving time and space I am told) and sometimes there just isn’t a one to one translation of my instructions into the language spoken within the matrix.","headline":"Of Recursive Spells And Iterative Spirits","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/Of-Recursive-Spells-And-Iterative-Spirits/"},"url":"/posts/Of-Recursive-Spells-And-Iterative-Spirits/"}</script><title>Of Recursive Spells And Iterative Spirits | ntumbuka[sic]</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ntumbuka[sic]"><meta name="application-name" content="ntumbuka[sic]"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">ntumbuka[sic]</a></div><div class="site-subtitle font-italic">Sine ntumbuka[sic]</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/kwalter94" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['walterkaunda','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/walter-kaunda-6972bb129/" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Of Recursive Spells And Iterative Spirits</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Of Recursive Spells And Iterative Spirits</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1652479200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 14, 2022 </em> </span> <span> Updated <em class="" data-ts="1669304849" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Nov 24, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/kwalter94/">Walter Kaunda</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1028 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p><code class="language-plaintext highlighter-rouge">Programs</code> are like magic spells, they conjure the spirits that roam the digital world (the Matrix). We formally know these spirits by the name <code class="language-plaintext highlighter-rouge">processes</code>. I mostly think of my spells as a sequence of steps that a spirit needs to carry out but this is not 100% true. The spirits don’t exactly follow line by line what I ask of them. They merely take my instructions as guidelines to what tune they dance. Of course, this is mostly all down to the mediums who are responsible for translating my spells into a language the spirits understand. The mediums sometimes do optimise my instructions for some selfish reasons (saving time and space I am told) and sometimes there just isn’t a one to one translation of my instructions into the language spoken within the matrix.</p><h2 id="out-of-the-recursive-spell-came-the-recursive-spirit"><span class="mr-2">Out of the Recursive Spell Came the Recursive Spirit</span><a href="#out-of-the-recursive-spell-came-the-recursive-spirit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Of particular interest to me at this point in time is a class of spells that are called recursive. The general property of recursive spells is that they somehow directly or indirectly invoke themselves. Consider the popular spell ‘factorial’ that is presented in almost every recursion 101 lesson. What this spell does is: given a positive integer N, multiply all numbers from 1 to up to N. One of the ways of achieving this in a spell is to simply start from N then multiply that N by the result of invoking the spell again on N - 1 until N bottoms down to 1. This simple spell can be specified in the language of the old patriarchs (achina <a href="http://catb.org/jargon/html/koans.html#id3141241">Sussman</a>) as follows:</p><div class="language-scheme highlighter-rouge"><div class="code-header"> <span data-label-text="Scheme"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">factorial</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">*</span> <span class="p">(</span><span class="nf">factorial</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">))))</span>
 <span class="p">(</span><span class="nf">factorial</span> <span class="mi">5</span><span class="p">))</span>
</pre></table></code></div></div><blockquote class="prompt-info"><p>The spell above is specified in a language called Scheme (a dialect of Lisp). Went with Scheme here because it is very close to the language the Spirits understand (I am lying through my teeth but work with me here, you will soon see what I am on about). A Scheme spell is basically just a list of lists which when pushed into the matrix turns to a spirit whose purpose in life is to decay into a single scalar value by continuously applying the first element of every list (the <a href="https://en.wikipedia.org/wiki/CAR_and_CDR">CAR</a>) onto the rest of list (the <a href="https://en.wikipedia.org/wiki/CAR_and_CDR">CDR</a> - pronounced Couldar) to produce a scalar value or another list (that is more elementary compared to the original - process repeats until this list becomes a single atomic value).</p></blockquote><p>Now, when the spell above is pushed into the matrix through a medium like <a href="https://github.com/reflectionalist/S9fES">s9</a>, it produces a spirit that whose life goes as follows:</p><div class="language-scheme highlighter-rouge"><div class="code-header"> <span data-label-text="Scheme"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">4</span><span class="p">))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">3</span><span class="p">)))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">2</span><span class="p">))))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">1</span><span class="p">)))))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">1</span> <span class="p">(</span><span class="nf">factorial</span> <span class="mi">0</span><span class="p">))))))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)))))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">))))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">)))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="mi">6</span><span class="p">))</span>
<span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="mi">24</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="mi">120</span>
</pre></table></code></div></div><p>The thing to note about the spirit above is that overtime it grows in space (ie the depth of the list grows first before it starts to reduce). That’s essentially what makes a recursive spirit (process). We started with a recursive spell and we ended up with a recursive spell.</p><blockquote class="prompt-tip"><p>In the real world, think C or similar languages, recursive processes have this growth in space from using more and more of the stack. Every recursive invocation pushes the stack down to make space for the local variables of this new function invocation.</p></blockquote><h2 id="an-iterative-spirit-from-a-recursive-spell-you-say"><span class="mr-2">An Iterative Spirit from a Recursive Spell, you say?</span><a href="#an-iterative-spirit-from-a-recursive-spell-you-say" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let’s rewrite our recursive spell in a slightly different way:</p><div class="language-scheme highlighter-rouge"><div class="code-header"> <span data-label-text="Scheme"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">factorial2</span> <span class="nv">n</span> <span class="nv">product</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">product</span> <span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">n</span> <span class="nv">product</span><span class="p">)))</span>
 <span class="p">(</span><span class="nf">factorial2</span> <span class="mi">5</span> <span class="mi">1</span><span class="p">))</span>
</pre></table></code></div></div><p>This new factorial will decay as follows:</p><div class="language-scheme highlighter-rouge"><div class="code-header"> <span data-label-text="Scheme"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="nv">=&gt;</span> <span class="p">(</span><span class="nf">factorial2</span> <span class="mi">5</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">5</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">1</span> <span class="mi">5</span><span class="p">))</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">4</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">5</span> <span class="mi">4</span><span class="p">))</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">20</span> <span class="mi">3</span><span class="p">))</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">60</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">120</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nf">factorial2</span> <span class="mi">0</span> <span class="mi">120</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="mi">120</span>
</pre></table></code></div></div><p>Notice that in this iteration of the factorial spell, the original list we started with did not grow in depth between recursive calls. This lack of growth in space is characteristic of what is called is an iterative spirit. We started with what is obviously a recursive spell but we somehow ended up with an iterative spirit instead of a recursive one. We are able to generate an iterative spirit from a recursive spell by specifying our spell in a style that is called <a href="https://en.wikipedia.org/wiki/Tail_call">tail call recursion</a>. You can loosely think of tail call recursion as a recusion in which the very last operation in the spell is an invocation of the spell. Comparing our two spells, we will notice that factorial’s last operation is to apply the * operator whilst factorial2’s last operation is a call to itself.</p><blockquote class="prompt-info"><p>Not all mediums (compilers and interpretors) are smart enough to detect a tail call recursion and optimise it into an iterative spirit. Most mediums that are able to do this, reside in the functional world. Tail call optimisation is necessary within the functional because the majority of languages in that world have no looping constructs like for-statements. All looping is done through recursion (even where a language provides something akin to a for-statement, it’s usually just a macro that turns into a recursive call).</p></blockquote><h2 id="parting-words"><span class="mr-2">Parting words</span><a href="#parting-words" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I am not really good at drawing conclusions but if anything the thing you should take from this is:</p><ol><li>Programs generate processes<li>Recursive programs usually generate recursive processes<li>Recursive programs written in a tail call style generate iterative processes if the compiler/interpretor in use supports it.<li>Iterative processes are more efficient in their use of space</ol><h2 id="references"><span class="mr-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://en.wikipedia.org/wiki/Structure_and_Interpretation_of_Computer_Programs">Structure and Interpretation of Computer Programs</a><blockquote><p>Been a long time since I last read this but I definitely do recommend</p></blockquote><li><a href="http://community.schemewiki.org/?Sketchy-LISP">Sketchy Lisp</a><li><a href="http://wikipedia.org">Wikipedia</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a> <a href="/tags/functional/" class="post-tag no-text-decoration" >functional</a> <a href="/tags/lisp/" class="post-tag no-text-decoration" >lisp</a> <a href="/tags/scheme/" class="post-tag no-text-decoration" >scheme</a> <a href="/tags/magic/" class="post-tag no-text-decoration" >magic</a> <a href="/tags/witchcraft/" class="post-tag no-text-decoration" >witchcraft</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Of%20Recursive%20Spells%20And%20Iterative%20Spirits%20-%20ntumbuka[sic]&url=%2Fposts%2FOf-Recursive-Spells-And-Iterative-Spirits%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Of%20Recursive%20Spells%20And%20Iterative%20Spirits%20-%20ntumbuka[sic]&u=%2Fposts%2FOf-Recursive-Spells-And-Iterative-Spirits%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FOf-Recursive-Spells-And-Iterative-Spirits%2F&text=Of%20Recursive%20Spells%20And%20Iterative%20Spirits%20-%20ntumbuka[sic]" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kugwira-mfiti-in-a-serverless-database/">Kugwidwa Ufiti in a Serverless Database</a><li><a href="/posts/dont-settle-too-early/">Don't Settle Too Early [DRAFT]</a><li><a href="/posts/my-first-aoc-experience/">My First AOC Experience [DRAFT]</a><li><a href="/posts/How-to-properly-wait-for-your-dependencies-in-docker-compose/">How to Wait for Dependencies in Docker Compose</a><li><a href="/posts/FAM-On-That-Crystal-Meth/">FAM On That Crystal Meth</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/data-engineering/">data engineering</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/crystal/">crystal</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/couchbase/">couchbase</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/A-naive-approach-to-monitoring-datasets/"><div class="card-body"> <em class="small" data-ts="1684857600" data-df="ll" > May 23, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A Naive Approach to Monitoring Datasets [Draft]</h3><div class="text-muted small"><p> For some time now, I have had this problem at my usual place of work to do with monitoring of some data streams. The feeds are mostly set up as webhooks that are provided to other teams within the ...</p></div></div></a></div><div class="card"> <a href="/posts/I-Hate-File-System-Based-Routing/"><div class="card-body"> <em class="small" data-ts="1690750800" data-df="ll" > Jul 30, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>I Hate File System Based Routing</h3><div class="text-muted small"><p> I have been using Sveltekit on a number of projects for a while now. Whilst I like some of its ideas, there is one thing that just undoes the whole thing for me. File system based routing, it sound...</p></div></div></a></div><div class="card"> <a href="/posts/A-Case-For-File-Based-Workflows/"><div class="card-body"> <em class="small" data-ts="1697738400" data-df="ll" > Oct 19, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A Case for Paper Based Workflows</h3><div class="text-muted small"><p> A common thread I find in most software developers’ product pitches in Malawi (Africa as a whole too to some extent) revolves around replacing paper based workflows with almost one hundred percent ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></div><a href="/posts/you-cant-eat-your-pie-and-have-it-too/" class="btn btn-outline-primary" prompt="Newer"><p>You Can't Eat Your Pie And Have it Too</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/data-engineering/">data engineering</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/crystal/">crystal</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/couchbase/">couchbase</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/kwalter94/">Walter Kaunda</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
