<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Please Format your Squeel!!!" /><meta property="og:locale" content="en" /><meta name="description" content="This might be short… Mostly a rant on the lack of etiquette most developers have when it comes to writing SQL." /><meta property="og:description" content="This might be short… Mostly a rant on the lack of etiquette most developers have when it comes to writing SQL." /><link rel="canonical" href="/posts/please-format-your-squeel/" /><meta property="og:url" content="/posts/please-format-your-squeel/" /><meta property="og:site_name" content="ntumbuka[sic]" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-04-30T21:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Please Format your Squeel!!!" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-30T22:13:21+02:00","datePublished":"2023-04-30T21:00:00+02:00","description":"This might be short… Mostly a rant on the lack of etiquette most developers have when it comes to writing SQL.","headline":"Please Format your Squeel!!!","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/please-format-your-squeel/"},"url":"/posts/please-format-your-squeel/"}</script><title>Please Format your Squeel!!! | ntumbuka[sic]</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ntumbuka[sic]"><meta name="application-name" content="ntumbuka[sic]"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">ntumbuka[sic]</a></div><div class="site-subtitle font-italic">Sine ntumbuka[sic]</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/kwalter94" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['walterkaunda','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/walter-kaunda-6972bb129/" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Please Format your Squeel!!!</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Please Format your Squeel!!!</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1682881200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 30, 2023 </em> </span> <span> Updated <em class="" data-ts="1682885601" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 30, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/kwalter94/">Walter Kaunda</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1481 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><p>This might be short… Mostly a rant on the lack of etiquette most developers have when it comes to writing SQL.</p><p>There are two things that irritate me without end when it comes to reading other peoples SQL:</p><ol><li>Abuse of <em>ALIAS</em><li>Omitting of a field’s source table in the <code class="language-plaintext highlighter-rouge">SELECT</code>ed fields<li>Lack of or inconsistent formatting of code</ol><h2 id="1-abuse-of-alias"><span class="mr-2">1. Abuse of <em>ALIAS</em></span><a href="#1-abuse-of-alias" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>What do I mean by abuse of <em>ALIAS</em>? The majority of developers tend to use <code class="language-plaintext highlighter-rouge">ALIAS</code> to shorten names of database objects to one letter names. I do not fully understand why they do this but as far as I can tell, they do this to save a few keystrokes. For example for a table named people, some efficiency expert will alias the table name to <strong>p</strong> to save himself the trouble of hitting 5 letters on his keyboard. I do sort of understand this reasoning, however I think the cost of doing this far outweighs the percieved efficiency gains.</p><p>By doing this crazy aliasing you make the query harder to understand. Let’s look at an example to help me make my point:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
  <span class="n">p</span><span class="p">.</span><span class="n">dob</span><span class="p">,</span>
  <span class="n">p</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span>
  <span class="n">a</span><span class="p">.</span><span class="n">city</span><span class="p">,</span>
  <span class="n">a</span><span class="p">.</span><span class="n">village</span><span class="p">,</span>
  <span class="n">a</span><span class="p">.</span><span class="n">district</span>
<span class="k">FROM</span> <span class="n">people</span> <span class="k">AS</span> <span class="n">p</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">address</span> <span class="k">AS</span> <span class="n">a</span>
  <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">person_id</span>
</pre></table></code></div></div><p>When reading the query above, you start from the top. You look at the SELECT followed by the list of fields being selected and so on. Now the first time you get to the list of selected fields, you will not be able to make any sense of what you are seeing without having any prior information. In the query what exactly is <code class="language-plaintext highlighter-rouge">p.name</code> supposed to be? A name of a pharmacy or a name of pants??? Of course, from the above you can guess that this is a name of person but still my point stands. For you to make sense of what <strong>p</strong> is, you must scan ahead to the FROM part of the query to see what <strong>p</strong> is. From that point on you need to maintain in your head that <code class="language-plaintext highlighter-rouge">p = people</code>. If there are a couple of more tables being joined to, then you have to maintain a mapping of all those aliases and must continuously substitute those aliases throughout the query. The query in itself might be complex and for some super self serving reason you decide to add unnecessary complexity to the query.</p><p>Imagine if we did this in every program we write (granted Go developers do it, but those guys are nuts). Every variable is aliased to some short one letter name. Reading code would become such a laborious task. We can agree that most of us enjoy writing code not reading it. So let’s try to avoid making an already boring task even more painful than it already is.</p><h3 id="so-where-do-i-think-aliases-should-be-used"><span class="mr-2">So where do I think aliases should be used?</span><a href="#so-where-do-i-think-aliases-should-be-used" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>I think aliases should be used to add more context to a query or remove unnecessary context.</p><p>Adding more context to a query… Let’s look at the following query:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">employees</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
  <span class="n">employees</span><span class="p">.</span><span class="n">dob</span><span class="p">,</span>
  <span class="n">employees</span><span class="p">.</span><span class="n">gender</span>
<span class="k">FROM</span> <span class="n">people</span> <span class="k">AS</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">employees</span><span class="p">.</span><span class="k">type</span> <span class="o">=</span> <span class="s1">'Employee'</span>
</pre></table></code></div></div><p>In the above query, I am trying to select all people that are employees. So by aliasing people to employees, I am effectively adding a bit more context to every reference I have of people in my query. A reader of the query sees employees and they understand what that is immediately, without needing to read ahead and track back.</p><p>Another reason for aliasing is to remove unnecessary context. On this reason, I am kind of on the fences but there are places where I think it doesn’t really do any harm. Consider the following query:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">people</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
  <span class="n">people</span><span class="p">.</span><span class="n">dob</span><span class="p">,</span>
  <span class="n">people</span><span class="p">.</span><span class="n">gender</span>
<span class="k">FROM</span> <span class="n">human_resource__people</span> <span class="k">AS</span> <span class="n">people</span>
</pre></table></code></div></div><p>In the query above, there is this funny namespacing of tables that’s going on. If you have used something like Django then you have probably run into this. Basically a Django project is an umbrella project to which you add a bunch of small applications (kind of bounded contexts in Domain Driven Design). Each application is namespaced in the database. So multiple applications can have a domain model with the same name. Now in the query above we are simply interested in people from the human_resources context. Continuously repeating that fact in the query does not really add much value. If you are looking at that query in an application then that fact must be implicit in the name given to that query.</p><h2 id="2-omitting-of-a-fields-source-in-select-blocks"><span class="mr-2">2. Omitting of a field’s source in <code class="language-plaintext highlighter-rouge">SELECT</code> blocks</span><a href="#2-omitting-of-a-fields-source-in-select-blocks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>It’s quite common for people to omit table names when referencing field names in a query. An example:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">name</span><span class="p">,</span>
  <span class="n">dob</span><span class="p">,</span>
  <span class="n">gender</span><span class="p">,</span>
  <span class="n">city</span><span class="p">,</span>
  <span class="n">village</span><span class="p">,</span>
  <span class="n">district</span>
<span class="k">FROM</span> <span class="n">people</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">address</span>
  <span class="k">ON</span> <span class="n">address</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">people</span><span class="p">.</span><span class="n">person_id</span>
<span class="k">WHERE</span>
  <span class="k">primary</span> <span class="o">=</span> <span class="k">TRUE</span>
</pre></table></code></div></div><p>The query above is selecting fields from two different tables. You can’t simply look at that query and easily tell where any of the fields are coming from. Is city from people or from address? And to make matters worse there is a field called <code class="language-plaintext highlighter-rouge">primary</code> that is being reference in the <code class="language-plaintext highlighter-rouge">WHERE</code> part of the query. Where the hell is that field coming from? Need I say more?</p><p>My general recommendation on this is to never omit the source table names whenever a query directly references two or more tables. If you have subqueries in conditions and that kind of stuff, this really doesn’t apply. The only time you are free to omit the table names is when you only have a <code class="language-plaintext highlighter-rouge">FROM</code> that references one table without any <code class="language-plaintext highlighter-rouge">JOINs</code>. The context in such cases is unambiguous, no need to remind me of it.</p><h2 id="3-lack-of-or-inconsistent-formatting"><span class="mr-2">3. Lack of or inconsistent formatting</span><a href="#3-lack-of-or-inconsistent-formatting" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This one bugs me a lot… Everytime I see it I tend to question the sanity of the person that was writing the query. It’s a clear lack of organisation that can only come from being brain damaged. Let’s start with an example:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">select</span>
<span class="n">people</span><span class="p">.</span><span class="n">name</span>
<span class="p">,</span><span class="n">people</span><span class="p">.</span><span class="n">dob</span>
<span class="p">,</span><span class="n">people</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span> <span class="n">address</span><span class="p">.</span><span class="n">city</span><span class="p">,</span> <span class="n">address</span><span class="p">.</span><span class="n">village</span><span class="p">,</span>
<span class="n">address</span><span class="p">.</span><span class="n">district</span> <span class="k">from</span> <span class="n">people</span> <span class="k">left</span> <span class="k">join</span> <span class="n">address</span> <span class="k">on</span> <span class="n">address</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">person</span><span class="p">.</span><span class="n">person_id</span>
<span class="k">left</span> <span class="k">join</span> <span class="n">identifiers</span>
<span class="k">on</span> <span class="n">identifiers</span><span class="p">.</span><span class="n">person_id</span> <span class="o">=</span> <span class="n">people</span><span class="p">.</span><span class="n">id</span>
<span class="k">where</span> <span class="n">people</span><span class="p">.</span><span class="k">type</span> <span class="o">=</span> <span class="s1">'Employee'</span>
</pre></table></code></div></div><p>Reading code generally relies on visual cues. It’s rare for anyone that has been programming for a while to read code line by line. You do go line by line when you want to zone in on a particular section of the code but for the rest it’s mostly scanning of the code and quickly identifying patterns in the code (this is why idioms matter in programming). Going to the query above it’s very difficult to identify different sections of the query as it is. Say for example you want to add a new <code class="language-plaintext highlighter-rouge">JOIN</code> to the query, you can’t simply jump to a specific part of the query and make the change. You need to read every single line of that query to identify where you need to make the change (granted you can just search for <code class="language-plaintext highlighter-rouge">join</code> and add your thing right before it). Combine this with the other two problems mentioned in this article, you have a serious problem on your hands.</p><p>Now let’s format the query and see how it improves things:</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="k">SELECT</span>
  <span class="n">people</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
  <span class="n">people</span><span class="p">.</span><span class="n">dob</span><span class="p">,</span>
  <span class="n">people</span><span class="p">.</span><span class="n">gender</span><span class="p">,</span>
  <span class="n">address</span><span class="p">.</span><span class="n">city</span><span class="p">,</span>
  <span class="n">address</span><span class="p">.</span><span class="n">village</span><span class="p">,</span>
  <span class="n">address</span><span class="p">.</span><span class="n">district</span>
<span class="k">FROM</span> <span class="n">people</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">address</span>
  <span class="k">ON</span> <span class="n">address</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">person</span><span class="p">.</span><span class="n">person_id</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">identifiers</span>
  <span class="k">ON</span> <span class="n">identifiers</span><span class="p">.</span><span class="n">person_id</span> <span class="o">=</span> <span class="n">people</span><span class="p">.</span><span class="n">id</span>
<span class="k">WHERE</span>
  <span class="n">people</span><span class="p">.</span><span class="k">type</span> <span class="o">=</span> <span class="s1">'Employee'</span>
</pre></table></code></div></div><p>Better, isn’t it? You can easily identify different blocks in the code. Even if you aren’t familiar with this style, you can easily jump to a specific part of the code and make changes. That’s the style I use but you are free to go with one that makes the most sense to you rather than nothing at all.</p><p>A bit of an explanation of the style I go with:</p><ul><li>Use indentation to indicate that a block directly supports the statement above. The block is more of a qualifier for the statement above. So if you aren’t interested in the statement above, you can happily ignore the entire indented block that follows it.<li>Use CamelCase or snake_case for identifiers<li>Uppercase all SQL keywords to make them stand out from identifiers<li>In <code class="language-plaintext highlighter-rouge">JOIN</code> conditions always lead with the identifiers from the table being joined to. That is:</ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">address</span>
  <span class="n">address</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">some_other_table</span><span class="p">.</span><span class="n">value</span>

<span class="c1">-- Not</span>

<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">address</span>
  <span class="n">some_other_table</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">value</span>
</pre></table></code></div></div><p>I have more rules that I follow in my queries but these are the primary ones and they help me easily make sense of my queries. As a bonus, most times when I deviate from this style it indicates to me that I am doing something wrong.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/sequel/" class="post-tag no-text-decoration" >sequel</a> <a href="/tags/sql/" class="post-tag no-text-decoration" >sql</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Please%20Format%20your%20Squeel!!!%20-%20ntumbuka[sic]&url=%2Fposts%2Fplease-format-your-squeel%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Please%20Format%20your%20Squeel!!!%20-%20ntumbuka[sic]&u=%2Fposts%2Fplease-format-your-squeel%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fplease-format-your-squeel%2F&text=Please%20Format%20your%20Squeel!!!%20-%20ntumbuka[sic]" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kugwira-mfiti-in-a-serverless-database/">Kugwidwa Ufiti in a Serverless Database</a><li><a href="/posts/dont-settle-too-early/">Don't Settle Too Early [DRAFT]</a><li><a href="/posts/my-first-aoc-experience/">My First AOC Experience [DRAFT]</a><li><a href="/posts/How-to-properly-wait-for-your-dependencies-in-docker-compose/">How to Wait for Dependencies in Docker Compose</a><li><a href="/posts/FAM-On-That-Crystal-Meth/">FAM On That Crystal Meth</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/data-engineering/">data engineering</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/crystal/">crystal</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/couchbase/">couchbase</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/How-to-properly-wait-for-your-dependencies-in-docker-compose/"><div class="card-body"> <em class="small" data-ts="1671395400" data-df="ll" > Dec 18, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to Wait for Dependencies in Docker Compose</h3><div class="text-muted small"><p> Every once in a while you may find yourself having to deal with services that have some hard dependencies on each other. Service B (frontend) needs to have service A (API) running before it starts....</p></div></div></a></div><div class="card"> <a href="/posts/A-naive-approach-to-monitoring-datasets/"><div class="card-body"> <em class="small" data-ts="1684857600" data-df="ll" > May 23, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A Naive Approach to Monitoring Datasets [Draft]</h3><div class="text-muted small"><p> For some time now, I have had this problem at my usual place of work to do with monitoring of some data streams. The feeds are mostly set up as webhooks that are provided to other teams within the ...</p></div></div></a></div><div class="card"> <a href="/posts/FAM-On-That-Crystal-Meth/"><div class="card-body"> <em class="small" data-ts="1690480800" data-df="ll" > Jul 27, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>FAM On That Crystal Meth</h3><div class="text-muted small"><p> One thing that got me into Crystal is how easy creating C bindings is in the language. Here is a quick example: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 $ crystal init app libc_...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Docker-Network-Interface-Woes/" class="btn btn-outline-primary" prompt="Older"><p>Docker Network Interface Woes</p></a> <a href="/posts/A-naive-approach-to-monitoring-datasets/" class="btn btn-outline-primary" prompt="Newer"><p>A Naive Approach to Monitoring Datasets [Draft]</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/data-engineering/">data engineering</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/crystal/">crystal</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/couchbase/">couchbase</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/kwalter94/">Walter Kaunda</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
